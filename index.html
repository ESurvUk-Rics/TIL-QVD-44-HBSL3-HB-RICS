<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ESurv - Upload in Progress</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 50px;
      background: #f5f5f5;
    }
    img {
      display: block;
      margin: 0 auto 30px auto;
      max-width: 100%;
      height: auto;
      cursor: pointer;
    }
    h1 { color:#333; margin-bottom:20px; }
    p  { color:#555; font-size:18px; }

    /* Overlay */
    #loadingOverlay{
      position: fixed; inset: 0; z-index: 1000;
      background: rgba(255,255,255,0.95);
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      padding: 80px 24px 24px;
      visibility: hidden; opacity: 0; transition: opacity .25s ease, visibility .25s ease;
    }
    #loadingOverlay.show{ visibility: visible; opacity: 1; }

    /* Close button (optional) */
    #closeOverlay{
      position: absolute; top: 15px; right: 20px;
      font-size: 28px; font-weight: bold; color: #333; cursor: pointer; user-select: none;
    }
    #closeOverlay:hover{ color:#cc0000; }

    /* Spinner */
    .loader{
      border: 12px solid #f3f3f3; border-top: 12px solid #0B3D91;
      border-radius: 50%; width: 70px; height: 70px;
      animation: spin 1.2s linear infinite; margin-bottom: 16px;
    }
    @keyframes spin { 0%{ transform: rotate(0) } 100%{ transform: rotate(360deg) } }

    /* Message */
    #loadingText{
      font-size: 18px; color: #333; font-weight: 600;
      max-width: 520px; line-height: 1.4;
    }
  </style>
</head>
<body>
  <img src="logov1.png" alt="ESurv Logo" />

  <h1>Hello Mr Tilley,</h1>
  <p>Your RICS Home Buyers Level 2 Survey is ready to view.</p>
  <p>Please follow the instructions displayed below.</p>

  <div class="w3-container">
    <h2>Current Progress</h2>
    <div class="w3-light-grey w3-round-xlarge">
      <div class="w3-container w3-blue w3-round-xlarge" style="width:100%">Completed</div>
    </div>

    <div class="w3-container">
      <h3>Valuation Report</h3>
      <h3>Home Buyer Level 2</h3>
      <!-- Click image to show the loading overlay -->
      <img src="IMG_6005.jpeg" alt="Survey L2" id="surveyImage" />
    </div>
  </div>

  <!-- Loading overlay (spinner + message only) -->
  <div id="loadingOverlay" role="dialog" aria-live="polite" aria-label="Account updating">
    <span id="closeOverlay" aria-label="Close overlay">&times;</span>
    <div class="loader" aria-hidden="true"></div>
    <p id="loadingText">We are currently updating your account. Please check again at <strong>09:00</strong>.</p>
  </div>

  <script>
    const surveyImage = document.getElementById('surveyImage');
    const overlay     = document.getElementById('loadingOverlay');
    const closeBtn    = document.getElementById('closeOverlay');

    function showOverlay(){
      overlay.classList.add('show');
      document.body.style.overflow = 'hidden'; // lock background scroll
    }
    function closeOverlayFn(){
      overlay.classList.remove('show');
      document.body.style.overflow = ''; // restore scroll
    }

    surveyImage.addEventListener('click', showOverlay);
    closeBtn.addEventListener('click', closeOverlayFn);
  </script>
</body>
</html>
